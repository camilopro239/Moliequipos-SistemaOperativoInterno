import{a as D}from"./chunk-JEO34WBT.js";import{a as F,c as R,d as c,g as S}from"./chunk-KRWS2OF2.js";import{Ab as M,Cb as P,Ea as v,Eb as i,Ha as C,Ja as x,Jb as y,Ka as I,Kb as T,La as w,Oa as b,S as r,Sa as _,Ta as O,W as p,_a as m,pa as a,ta as g,ua as h,yb as A}from"./chunk-MMXZZOCS.js";var s=()=>{let t=r(c),o=r(a);return i(o)?localStorage.getItem("user")?!0:(t.navigate(["/login"]),!1):!0};var f=t=>{let o=r(c),e=r(a);if(!i(e))return!0;let n=localStorage.getItem("user");if(!n)return o.navigate(["/login"]),!1;let u=JSON.parse(n);return t.data.roles?.includes(u.rol)?!0:(o.navigate(["/documentos"]),!1)};var k=[{path:"login",loadComponent:()=>import("./chunk-NCDQ6UAH.js").then(t=>t.LoginComponent)},{path:"empleados",canActivate:[s,f],data:{roles:["admin","rrhh"]},loadComponent:()=>import("./chunk-HZTYLUD5.js").then(t=>t.EmpleadosComponent)},{path:"documentos",canActivate:[s],loadComponent:()=>import("./chunk-CRBI5CVN.js").then(t=>t.DocumentosComponent)},{path:"usuarios",canActivate:[s,f],data:{roles:["admin","gerente"]},loadComponent:()=>import("./chunk-LPPT3R6R.js").then(t=>t.UsuariosComponent)},{path:"auditoria-descargas",canActivate:[s,f],data:{roles:["admin","rrhh","gerente"]},loadComponent:()=>import("./chunk-5DQDQKQR.js").then(t=>t.AuditoriaDescargasComponent)},{path:"",canActivate:[s],loadComponent:()=>import("./chunk-YGFJLYCR.js").then(t=>t.LayoutComponent)}];var N=(t,o)=>{let e=r(a);if(!i(e))return o(t);let n=localStorage.getItem("token");if(!n&&t.url.includes("/empleados"))return o(t.clone({url:"about:blank"}));if(!n)return o(t);let u=t.clone({setHeaders:{Authorization:`Bearer ${n}`}});return o(u)};var j={providers:[S(k),y(T([N]))]};function G(t,o){if(t&1&&(x(0,"div",1)(1,"div",2)(2,"span",3),_(3),I()()()),t&2){let e=b();g(),C("ngClass",e.toast.type),g(2),O(e.toast.message)}}var l=class t{constructor(o){this.toastService=o}toast=null;ngOnInit(){this.toastService.toast$.subscribe(o=>{this.toast=o})}static \u0275fac=function(e){return new(e||t)(h(D))};static \u0275cmp=p({type:t,selectors:[["app-toast"]],standalone:!0,features:[m],decls:1,vars:1,consts:[["class","toast-wrapper",4,"ngIf"],[1,"toast-wrapper"],[1,"toast",3,"ngClass"],[1,"message"]],template:function(e,n){e&1&&v(0,G,4,2,"div",0),e&2&&C("ngIf",n.toast)},dependencies:[P,A,M],styles:[".toast-wrapper[_ngcontent-%COMP%]{position:fixed;top:18px;right:16px;z-index:2200}.toast[_ngcontent-%COMP%]{min-width:280px;max-width:360px;padding:11px 14px;border-radius:11px;font-size:.86rem;font-weight:600;letter-spacing:.01em;border:1px solid transparent;box-shadow:0 14px 30px #1113;animation:_ngcontent-%COMP%_slideIn .26s ease,_ngcontent-%COMP%_fadeOut .26s ease 2.72s forwards}.toast.success[_ngcontent-%COMP%]{background:#edfdf4;border-color:#7fe0ae;color:#0f6e3f}.toast.error[_ngcontent-%COMP%]{background:#fff2f1;border-color:#ff9d98;color:#b11f1f}.toast.warning[_ngcontent-%COMP%]{background:#fffbe7;border-color:#f0db67;color:#766004}.toast.info[_ngcontent-%COMP%]{background:#f4f4f4;border-color:#d6d6d6;color:#303030}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(115%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{to{opacity:0;transform:translate(115%)}}@media (max-width: 640px){.toast-wrapper[_ngcontent-%COMP%]{right:10px;left:10px}.toast[_ngcontent-%COMP%]{min-width:0;max-width:100%}}"]})};var d=class t{title="frontend";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-root"]],standalone:!0,features:[m],decls:2,vars:0,template:function(e,n){e&1&&w(0,"router-outlet")(1,"app-toast")},dependencies:[R,l]})};F(d,j).catch(t=>console.error(t));
