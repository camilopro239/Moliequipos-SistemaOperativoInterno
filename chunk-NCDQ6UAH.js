import{a as O,b as f,c as P,d as w,f as y,g as S,h as E,l as I,n as L}from"./chunk-OWGPU7TU.js";import{a as N}from"./chunk-CSAAT4C3.js";import{d as M}from"./chunk-KRWS2OF2.js";import{Ab as v,Cb as x,Ea as p,Ha as m,Ja as t,Ka as n,La as c,Na as h,Oa as C,S as g,Sa as o,Ua as u,W as b,_a as _,ta as a}from"./chunk-MMXZZOCS.js";function z(r,l){r&1&&(t(0,"small"),o(1," Email invalido "),n())}function R(r,l){r&1&&(t(0,"small"),o(1," La contrasena es obligatoria "),n())}function F(r,l){if(r&1&&(t(0,"div",12),o(1),n()),r&2){let i=C();a(),u(" ",i.error," ")}}var k=class r{fb=g(I);auth=g(N);router=g(M);loading=!1;error="";form=this.fb.nonNullable.group({email:["",[f.required,f.email]],password:["",f.required]});submit(){console.log("FORM VALUE:",this.form.value);let{email:l,password:i}=this.form.getRawValue();console.log("EMAIL =>",`"${l}"`),console.log("PASSWORD =>",`"${i}"`),this.auth.login(l,i).subscribe({next:e=>{console.log("LOGIN OK",e),this.router.navigateByUrl("/")},error:e=>{console.error("LOGIN ERROR",e),this.error="Credenciales incorrectas",this.loading=!1}})}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=b({type:r,selectors:[["app-login"]],standalone:!0,features:[_],decls:25,vars:6,consts:[[1,"login-shell"],[1,"login-card"],[1,"brand-panel"],[1,"brand-logo-wrap"],["src","/brand/logo-moliequipos.png","alt","Logo Moliequipos",1,"brand-logo"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","email","formControlName","email","placeholder","admin@moliequipos.com"],[4,"ngIf"],["type","password","formControlName","password","placeholder","********"],["class","error",4,"ngIf"],["type","submit",3,"disabled"],[1,"error"]],template:function(i,e){if(i&1&&(t(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3),c(4,"img",4),n(),t(5,"h1"),o(6,"Gestion interna"),n(),t(7,"p"),o(8,"Plataforma interna para gestionar personal y documentos."),n()(),t(9,"form",5),h("ngSubmit",function(){return e.submit()}),t(10,"h2"),o(11,"Iniciar sesion"),n(),t(12,"div",6)(13,"label"),o(14,"Email"),n(),c(15,"input",7),p(16,z,2,0,"small",8),n(),t(17,"div",6)(18,"label"),o(19,"Contrasena"),n(),c(20,"input",9),p(21,R,2,0,"small",8),n(),p(22,F,2,1,"div",10),t(23,"button",11),o(24),n()()()()),i&2){let d,s;a(9),m("formGroup",e.form),a(7),m("ngIf",((d=e.form.get("email"))==null?null:d.invalid)&&((d=e.form.get("email"))==null?null:d.touched)),a(5),m("ngIf",((s=e.form.get("password"))==null?null:s.invalid)&&((s=e.form.get("password"))==null?null:s.touched)),a(),m("ngIf",e.error),a(),m("disabled",e.loading),a(),u(" ",e.loading?"Ingresando...":"Ingresar al panel"," ")}},dependencies:[x,v,L,y,O,P,w,S,E],styles:[".login-shell[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;padding:1rem}.login-card[_ngcontent-%COMP%]{width:min(920px,100%);background:#fff;border:1px solid var(--border);border-radius:18px;overflow:hidden;box-shadow:var(--shadow-lg);display:grid;grid-template-columns:38% minmax(0,1fr)}.brand-panel[_ngcontent-%COMP%]{padding:2rem 1.35rem;background:linear-gradient(160deg,#f7db214d,#f7db2105 38%),linear-gradient(180deg,#1a1a1a,#101010);color:#f5f5f5;display:flex;flex-direction:column;justify-content:center}.brand-logo-wrap[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f8f8f2);border:1px solid rgba(247,219,33,.36);border-radius:14px;padding:.65rem;margin-bottom:1.1rem;max-width:300px}.brand-logo[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.brand-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--brand-yellow-strong);font-size:clamp(1.35rem,2.4vw,1.75rem);letter-spacing:.06em;line-height:1}.brand-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.65rem;color:#ffffffd1;line-height:1.35;font-size:.95rem}form[_ngcontent-%COMP%]{padding:2rem 1.6rem;display:flex;flex-direction:column;justify-content:center}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.55rem;margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:.95rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.35rem;color:var(--text-soft);font-size:.9rem;font-weight:600}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.62rem .7rem;border-radius:10px;border:1px solid var(--border);background:#fcfcfa;font-size:.95rem;transition:border-color .2s ease,box-shadow .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#a69000;box-shadow:0 0 0 3px #f7db2140;outline:none}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--danger);font-size:.78rem;margin-top:.35rem;display:inline-block}.error[_ngcontent-%COMP%]{margin-bottom:1rem;color:var(--danger);font-size:.86rem;font-weight:600}button[_ngcontent-%COMP%]{width:100%;padding:.74rem .8rem;border-radius:10px;border:none;background:linear-gradient(135deg,#181818,#2a2a2a);color:#fff;font-size:.93rem;font-weight:700;letter-spacing:.03em;cursor:pointer}button[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 12px 20px #1111114d}button[_ngcontent-%COMP%]:disabled{opacity:.62;cursor:not-allowed}@media (max-width: 860px){.login-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.brand-panel[_ngcontent-%COMP%]{padding:1.4rem 1.2rem}}"]})};export{k as LoginComponent};
